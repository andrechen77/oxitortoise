{
	"metaVars": {
		"globals": [
			"evaporation-rate",
			"population",
			"diffusion-rate"
		],
		"turtleVars": [],
		"patchVars": [
			"CHEMICAL",
			"FOOD",
			"NEST?",
			"NEST-SCENT",
			"FOOD-SOURCE-NUMBER"
		],
		"linkVars": []
	},
	"procedures": [
		{
			"name": "SETUP",
			"args": [],
			"returnType": "unit",
			"agentClass": "O---",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "command-call",
						"name": "CLEAR-ALL",
						"args": []
					},
					{
						"type": "command-call",
						"name": "SET-DEFAULT-SHAPE",
						"args": [
							{
								"type": "reporter-call",
								"name": "TURTLES",
								"args": []
							},
							{
								"type": "string",
								"value": "bug"
							}
						]
					},
					{
						"type": "command-call",
						"name": "CREATE-TURTLES",
						"args": [
							{
								"type": "global-var",
								"name": "POPULATION"
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "turtle-var",
												"name": "SIZE"
											},
											{
												"type": "number",
												"value": 2
											}
										]
									},
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "turtle-or-link-var",
												"name": "COLOR"
											},
											{
												"type": "number",
												"value": 15
											}
										]
									}
								]
							}
						]
					},
					{
						"type": "command-proc-call",
						"name": "SETUP-PATCHES",
						"args": []
					},
					{
						"type": "command-call",
						"name": "RESET-TICKS",
						"args": []
					}
				]
			}
		},
		{
			"name": "SETUP-PATCHES",
			"args": [],
			"returnType": "unit",
			"agentClass": "OTPL",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "command-call",
						"name": "ASK",
						"args": [
							{
								"type": "reporter-call",
								"name": "PATCHES",
								"args": []
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-proc-call",
										"name": "SETUP-NEST",
										"args": []
									},
									{
										"type": "command-proc-call",
										"name": "SETUP-FOOD",
										"args": []
									},
									{
										"type": "command-proc-call",
										"name": "RECOLOR-PATCH",
										"args": []
									}
								]
							}
						]
					}
				]
			}
		},
		{
			"name": "SETUP-NEST",
			"args": [],
			"returnType": "unit",
			"agentClass": "-TP-",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "command-call",
						"name": "SET",
						"args": [
							{
								"type": "patch-var",
								"name": "NEST?"
							},
							{
								"type": "reporter-call",
								"name": "<",
								"args": [
									{
										"type": "reporter-call",
										"name": "DISTANCEXY",
										"args": [
											{
												"type": "number",
												"value": 0
											},
											{
												"type": "number",
												"value": 0
											}
										]
									},
									{
										"type": "number",
										"value": 5
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "SET",
						"args": [
							{
								"type": "patch-var",
								"name": "NEST-SCENT"
							},
							{
								"type": "reporter-call",
								"name": "-",
								"args": [
									{
										"type": "number",
										"value": 200
									},
									{
										"type": "reporter-call",
										"name": "DISTANCEXY",
										"args": [
											{
												"type": "number",
												"value": 0
											},
											{
												"type": "number",
												"value": 0
											}
										]
									}
								]
							}
						]
					}
				]
			}
		},
		{
			"name": "SETUP-FOOD",
			"args": [],
			"returnType": "unit",
			"agentClass": "-TP-",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": "<",
								"args": [
									{
										"type": "reporter-call",
										"name": "DISTANCEXY",
										"args": [
											{
												"type": "reporter-call",
												"name": "*",
												"args": [
													{
														"type": "number",
														"value": 0.6
													},
													{
														"type": "reporter-call",
														"name": "MAX-PXCOR",
														"args": []
													}
												]
											},
											{
												"type": "number",
												"value": 0
											}
										]
									},
									{
										"type": "number",
										"value": 5
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "patch-var",
												"name": "FOOD-SOURCE-NUMBER"
											},
											{
												"type": "number",
												"value": 1
											}
										]
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": "<",
								"args": [
									{
										"type": "reporter-call",
										"name": "DISTANCEXY",
										"args": [
											{
												"type": "reporter-call",
												"name": "*",
												"args": [
													{
														"type": "number",
														"value": -0.6
													},
													{
														"type": "reporter-call",
														"name": "MAX-PXCOR",
														"args": []
													}
												]
											},
											{
												"type": "reporter-call",
												"name": "*",
												"args": [
													{
														"type": "number",
														"value": -0.6
													},
													{
														"type": "reporter-call",
														"name": "MAX-PYCOR",
														"args": []
													}
												]
											}
										]
									},
									{
										"type": "number",
										"value": 5
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "patch-var",
												"name": "FOOD-SOURCE-NUMBER"
											},
											{
												"type": "number",
												"value": 2
											}
										]
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": "<",
								"args": [
									{
										"type": "reporter-call",
										"name": "DISTANCEXY",
										"args": [
											{
												"type": "reporter-call",
												"name": "*",
												"args": [
													{
														"type": "number",
														"value": -0.8
													},
													{
														"type": "reporter-call",
														"name": "MAX-PXCOR",
														"args": []
													}
												]
											},
											{
												"type": "reporter-call",
												"name": "*",
												"args": [
													{
														"type": "number",
														"value": 0.8
													},
													{
														"type": "reporter-call",
														"name": "MAX-PYCOR",
														"args": []
													}
												]
											}
										]
									},
									{
										"type": "number",
										"value": 5
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "patch-var",
												"name": "FOOD-SOURCE-NUMBER"
											},
											{
												"type": "number",
												"value": 3
											}
										]
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": ">",
								"args": [
									{
										"type": "patch-var",
										"name": "FOOD-SOURCE-NUMBER"
									},
									{
										"type": "number",
										"value": 0
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "patch-var",
												"name": "FOOD"
											},
											{
												"type": "reporter-call",
												"name": "ONE-OF",
												"args": [
													{
														"type": "list",
														"items": [
															{
																"type": "number",
																"value": 1
															},
															{
																"type": "number",
																"value": 2
															}
														]
													}
												]
											}
										]
									}
								]
							}
						]
					}
				]
			}
		},
		{
			"name": "RECOLOR-PATCH",
			"args": [],
			"returnType": "unit",
			"agentClass": "-TP-",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "command-call",
						"name": "IFELSE",
						"args": [
							{
								"type": "patch-var",
								"name": "NEST?"
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "patch-var",
												"name": "PCOLOR"
											},
											{
												"type": "number",
												"value": 115
											}
										]
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "IFELSE",
										"args": [
											{
												"type": "reporter-call",
												"name": ">",
												"args": [
													{
														"type": "patch-var",
														"name": "FOOD"
													},
													{
														"type": "number",
														"value": 0
													}
												]
											},
											{
												"type": "command-block",
												"statements": [
													{
														"type": "command-call",
														"name": "IF",
														"args": [
															{
																"type": "reporter-call",
																"name": "=",
																"args": [
																	{
																		"type": "patch-var",
																		"name": "FOOD-SOURCE-NUMBER"
																	},
																	{
																		"type": "number",
																		"value": 1
																	}
																]
															},
															{
																"type": "command-block",
																"statements": [
																	{
																		"type": "command-call",
																		"name": "SET",
																		"args": [
																			{
																				"type": "patch-var",
																				"name": "PCOLOR"
																			},
																			{
																				"type": "number",
																				"value": 85
																			}
																		]
																	}
																]
															}
														]
													},
													{
														"type": "command-call",
														"name": "IF",
														"args": [
															{
																"type": "reporter-call",
																"name": "=",
																"args": [
																	{
																		"type": "patch-var",
																		"name": "FOOD-SOURCE-NUMBER"
																	},
																	{
																		"type": "number",
																		"value": 2
																	}
																]
															},
															{
																"type": "command-block",
																"statements": [
																	{
																		"type": "command-call",
																		"name": "SET",
																		"args": [
																			{
																				"type": "patch-var",
																				"name": "PCOLOR"
																			},
																			{
																				"type": "number",
																				"value": 95
																			}
																		]
																	}
																]
															}
														]
													},
													{
														"type": "command-call",
														"name": "IF",
														"args": [
															{
																"type": "reporter-call",
																"name": "=",
																"args": [
																	{
																		"type": "patch-var",
																		"name": "FOOD-SOURCE-NUMBER"
																	},
																	{
																		"type": "number",
																		"value": 3
																	}
																]
															},
															{
																"type": "command-block",
																"statements": [
																	{
																		"type": "command-call",
																		"name": "SET",
																		"args": [
																			{
																				"type": "patch-var",
																				"name": "PCOLOR"
																			},
																			{
																				"type": "number",
																				"value": 105
																			}
																		]
																	}
																]
															}
														]
													}
												]
											},
											{
												"type": "command-block",
												"statements": [
													{
														"type": "command-call",
														"name": "SET",
														"args": [
															{
																"type": "patch-var",
																"name": "PCOLOR"
															},
															{
																"type": "reporter-call",
																"name": "SCALE-COLOR",
																"args": [
																	{
																		"type": "number",
																		"value": 55
																	},
																	{
																		"type": "patch-var",
																		"name": "CHEMICAL"
																	},
																	{
																		"type": "number",
																		"value": 0.1
																	},
																	{
																		"type": "number",
																		"value": 5
																	}
																]
															}
														]
													}
												]
											}
										]
									}
								]
							}
						]
					}
				]
			}
		},
		{
			"name": "GO",
			"args": [],
			"returnType": "unit",
			"agentClass": "O---",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "command-call",
						"name": "ASK",
						"args": [
							{
								"type": "reporter-call",
								"name": "TURTLES",
								"args": []
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "IF",
										"args": [
											{
												"type": "reporter-call",
												"name": ">=",
												"args": [
													{
														"type": "turtle-var",
														"name": "WHO"
													},
													{
														"type": "reporter-call",
														"name": "TICKS",
														"args": []
													}
												]
											},
											{
												"type": "command-block",
												"statements": [
													{
														"type": "command-call",
														"name": "STOP",
														"args": []
													}
												]
											}
										]
									},
									{
										"type": "command-call",
										"name": "IFELSE",
										"args": [
											{
												"type": "reporter-call",
												"name": "=",
												"args": [
													{
														"type": "turtle-or-link-var",
														"name": "COLOR"
													},
													{
														"type": "number",
														"value": 15
													}
												]
											},
											{
												"type": "command-block",
												"statements": [
													{
														"type": "command-proc-call",
														"name": "LOOK-FOR-FOOD",
														"args": []
													}
												]
											},
											{
												"type": "command-block",
												"statements": [
													{
														"type": "command-proc-call",
														"name": "RETURN-TO-NEST",
														"args": []
													}
												]
											}
										]
									},
									{
										"type": "command-proc-call",
										"name": "WIGGLE",
										"args": []
									},
									{
										"type": "command-call",
										"name": "FD",
										"args": [
											{
												"type": "number",
												"value": 1
											}
										]
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "DIFFUSE",
						"args": [
							{
								"type": "patch-var",
								"name": "CHEMICAL"
							},
							{
								"type": "reporter-call",
								"name": "/",
								"args": [
									{
										"type": "global-var",
										"name": "DIFFUSION-RATE"
									},
									{
										"type": "number",
										"value": 100
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "ASK",
						"args": [
							{
								"type": "reporter-call",
								"name": "PATCHES",
								"args": []
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "patch-var",
												"name": "CHEMICAL"
											},
											{
												"type": "reporter-call",
												"name": "/",
												"args": [
													{
														"type": "reporter-call",
														"name": "*",
														"args": [
															{
																"type": "patch-var",
																"name": "CHEMICAL"
															},
															{
																"type": "reporter-call",
																"name": "-",
																"args": [
																	{
																		"type": "number",
																		"value": 100
																	},
																	{
																		"type": "global-var",
																		"name": "EVAPORATION-RATE"
																	}
																]
															}
														]
													},
													{
														"type": "number",
														"value": 100
													}
												]
											}
										]
									},
									{
										"type": "command-proc-call",
										"name": "RECOLOR-PATCH",
										"args": []
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "TICK",
						"args": []
					}
				]
			}
		},
		{
			"name": "RETURN-TO-NEST",
			"args": [],
			"returnType": "unit",
			"agentClass": "-T--",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "command-call",
						"name": "IFELSE",
						"args": [
							{
								"type": "patch-var",
								"name": "NEST?"
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "turtle-or-link-var",
												"name": "COLOR"
											},
											{
												"type": "number",
												"value": 15
											}
										]
									},
									{
										"type": "command-call",
										"name": "RT",
										"args": [
											{
												"type": "number",
												"value": 180
											}
										]
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "patch-var",
												"name": "CHEMICAL"
											},
											{
												"type": "reporter-call",
												"name": "+",
												"args": [
													{
														"type": "patch-var",
														"name": "CHEMICAL"
													},
													{
														"type": "number",
														"value": 60
													}
												]
											}
										]
									},
									{
										"type": "command-proc-call",
										"name": "UPHILL-NEST-SCENT",
										"args": []
									}
								]
							}
						]
					}
				]
			}
		},
		{
			"name": "LOOK-FOR-FOOD",
			"args": [],
			"returnType": "unit",
			"agentClass": "-T--",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": ">",
								"args": [
									{
										"type": "patch-var",
										"name": "FOOD"
									},
									{
										"type": "number",
										"value": 0
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "turtle-or-link-var",
												"name": "COLOR"
											},
											{
												"type": "reporter-call",
												"name": "+",
												"args": [
													{
														"type": "number",
														"value": 25
													},
													{
														"type": "number",
														"value": 1
													}
												]
											}
										]
									},
									{
										"type": "command-call",
										"name": "SET",
										"args": [
											{
												"type": "patch-var",
												"name": "FOOD"
											},
											{
												"type": "reporter-call",
												"name": "-",
												"args": [
													{
														"type": "patch-var",
														"name": "FOOD"
													},
													{
														"type": "number",
														"value": 1
													}
												]
											}
										]
									},
									{
										"type": "command-call",
										"name": "RT",
										"args": [
											{
												"type": "number",
												"value": 180
											}
										]
									},
									{
										"type": "command-call",
										"name": "STOP",
										"args": []
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": "AND",
								"args": [
									{
										"type": "reporter-call",
										"name": ">=",
										"args": [
											{
												"type": "patch-var",
												"name": "CHEMICAL"
											},
											{
												"type": "number",
												"value": 0.05
											}
										]
									},
									{
										"type": "reporter-call",
										"name": "<",
										"args": [
											{
												"type": "patch-var",
												"name": "CHEMICAL"
											},
											{
												"type": "number",
												"value": 2
											}
										]
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-proc-call",
										"name": "UPHILL-CHEMICAL",
										"args": []
									}
								]
							}
						]
					}
				]
			}
		},
		{
			"name": "UPHILL-CHEMICAL",
			"args": [],
			"returnType": "unit",
			"agentClass": "-T--",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "let-binding",
						"varName": "SCENT-AHEAD",
						"value": {
							"type": "reporter-proc-call",
							"name": "CHEMICAL-SCENT-AT-ANGLE",
							"args": [
								{
									"type": "number",
									"value": 0
								}
							]
						}
					},
					{
						"type": "let-binding",
						"varName": "SCENT-RIGHT",
						"value": {
							"type": "reporter-proc-call",
							"name": "CHEMICAL-SCENT-AT-ANGLE",
							"args": [
								{
									"type": "number",
									"value": 45
								}
							]
						}
					},
					{
						"type": "let-binding",
						"varName": "SCENT-LEFT",
						"value": {
							"type": "reporter-proc-call",
							"name": "CHEMICAL-SCENT-AT-ANGLE",
							"args": [
								{
									"type": "number",
									"value": -45
								}
							]
						}
					},
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": "OR",
								"args": [
									{
										"type": "reporter-call",
										"name": ">",
										"args": [
											{
												"type": "let-ref",
												"name": "SCENT-RIGHT"
											},
											{
												"type": "let-ref",
												"name": "SCENT-AHEAD"
											}
										]
									},
									{
										"type": "reporter-call",
										"name": ">",
										"args": [
											{
												"type": "let-ref",
												"name": "SCENT-LEFT"
											},
											{
												"type": "let-ref",
												"name": "SCENT-AHEAD"
											}
										]
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "IFELSE",
										"args": [
											{
												"type": "reporter-call",
												"name": ">",
												"args": [
													{
														"type": "let-ref",
														"name": "SCENT-RIGHT"
													},
													{
														"type": "let-ref",
														"name": "SCENT-LEFT"
													}
												]
											},
											{
												"type": "command-block",
												"statements": [
													{
														"type": "command-call",
														"name": "RT",
														"args": [
															{
																"type": "number",
																"value": 45
															}
														]
													}
												]
											},
											{
												"type": "command-block",
												"statements": [
													{
														"type": "command-call",
														"name": "LT",
														"args": [
															{
																"type": "number",
																"value": 45
															}
														]
													}
												]
											}
										]
									}
								]
							}
						]
					}
				]
			}
		},
		{
			"name": "UPHILL-NEST-SCENT",
			"args": [],
			"returnType": "unit",
			"agentClass": "-T--",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "let-binding",
						"varName": "SCENT-AHEAD",
						"value": {
							"type": "reporter-proc-call",
							"name": "NEST-SCENT-AT-ANGLE",
							"args": [
								{
									"type": "number",
									"value": 0
								}
							]
						}
					},
					{
						"type": "let-binding",
						"varName": "SCENT-RIGHT",
						"value": {
							"type": "reporter-proc-call",
							"name": "NEST-SCENT-AT-ANGLE",
							"args": [
								{
									"type": "number",
									"value": 45
								}
							]
						}
					},
					{
						"type": "let-binding",
						"varName": "SCENT-LEFT",
						"value": {
							"type": "reporter-proc-call",
							"name": "NEST-SCENT-AT-ANGLE",
							"args": [
								{
									"type": "number",
									"value": -45
								}
							]
						}
					},
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": "OR",
								"args": [
									{
										"type": "reporter-call",
										"name": ">",
										"args": [
											{
												"type": "let-ref",
												"name": "SCENT-RIGHT"
											},
											{
												"type": "let-ref",
												"name": "SCENT-AHEAD"
											}
										]
									},
									{
										"type": "reporter-call",
										"name": ">",
										"args": [
											{
												"type": "let-ref",
												"name": "SCENT-LEFT"
											},
											{
												"type": "let-ref",
												"name": "SCENT-AHEAD"
											}
										]
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "IFELSE",
										"args": [
											{
												"type": "reporter-call",
												"name": ">",
												"args": [
													{
														"type": "let-ref",
														"name": "SCENT-RIGHT"
													},
													{
														"type": "let-ref",
														"name": "SCENT-LEFT"
													}
												]
											},
											{
												"type": "command-block",
												"statements": [
													{
														"type": "command-call",
														"name": "RT",
														"args": [
															{
																"type": "number",
																"value": 45
															}
														]
													}
												]
											},
											{
												"type": "command-block",
												"statements": [
													{
														"type": "command-call",
														"name": "LT",
														"args": [
															{
																"type": "number",
																"value": 45
															}
														]
													}
												]
											}
										]
									}
								]
							}
						]
					}
				]
			}
		},
		{
			"name": "WIGGLE",
			"args": [],
			"returnType": "unit",
			"agentClass": "-T--",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "command-call",
						"name": "RT",
						"args": [
							{
								"type": "reporter-call",
								"name": "RANDOM",
								"args": [
									{
										"type": "number",
										"value": 40
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "LT",
						"args": [
							{
								"type": "reporter-call",
								"name": "RANDOM",
								"args": [
									{
										"type": "number",
										"value": 40
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": "NOT",
								"args": [
									{
										"type": "reporter-call",
										"name": "CAN-MOVE?",
										"args": [
											{
												"type": "number",
												"value": 1
											}
										]
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "RT",
										"args": [
											{
												"type": "number",
												"value": 180
											}
										]
									}
								]
							}
						]
					}
				]
			}
		},
		{
			"name": "NEST-SCENT-AT-ANGLE",
			"args": [
				"ANGLE"
			],
			"returnType": "wildcard",
			"agentClass": "-T--",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "let-binding",
						"varName": "P",
						"value": {
							"type": "reporter-call",
							"name": "PATCH-RIGHT-AND-AHEAD",
							"args": [
								{
									"type": "procedure-arg-ref",
									"name": "ANGLE"
								},
								{
									"type": "number",
									"value": 1
								}
							]
						}
					},
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": "=",
								"args": [
									{
										"type": "let-ref",
										"name": "P"
									},
									{
										"type": "nobody"
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "REPORT",
										"args": [
											{
												"type": "number",
												"value": 0
											}
										]
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "REPORT",
						"args": [
							{
								"type": "reporter-call",
								"name": "OF",
								"args": [
									{
										"type": "reporter-block",
										"reporterApp": {
											"type": "patch-var",
											"name": "NEST-SCENT"
										}
									},
									{
										"type": "let-ref",
										"name": "P"
									}
								]
							}
						]
					}
				]
			}
		},
		{
			"name": "CHEMICAL-SCENT-AT-ANGLE",
			"args": [
				"ANGLE"
			],
			"returnType": "wildcard",
			"agentClass": "-T--",
			"body": {
				"type": "command-block",
				"statements": [
					{
						"type": "let-binding",
						"varName": "P",
						"value": {
							"type": "reporter-call",
							"name": "PATCH-RIGHT-AND-AHEAD",
							"args": [
								{
									"type": "procedure-arg-ref",
									"name": "ANGLE"
								},
								{
									"type": "number",
									"value": 1
								}
							]
						}
					},
					{
						"type": "command-call",
						"name": "IF",
						"args": [
							{
								"type": "reporter-call",
								"name": "=",
								"args": [
									{
										"type": "let-ref",
										"name": "P"
									},
									{
										"type": "nobody"
									}
								]
							},
							{
								"type": "command-block",
								"statements": [
									{
										"type": "command-call",
										"name": "REPORT",
										"args": [
											{
												"type": "number",
												"value": 0
											}
										]
									}
								]
							}
						]
					},
					{
						"type": "command-call",
						"name": "REPORT",
						"args": [
							{
								"type": "reporter-call",
								"name": "OF",
								"args": [
									{
										"type": "reporter-block",
										"reporterApp": {
											"type": "patch-var",
											"name": "CHEMICAL"
										}
									},
									{
										"type": "let-ref",
										"name": "P"
									}
								]
							}
						]
					}
				]
			}
		}
	],
	"widgets": [
		{
			"type": "plot",
			"index": 1,
			"setup": {
				"returnType": "unit",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": []
				}
			},
			"update": {
				"returnType": "unit",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": []
				}
			},
			"pens": [
				{
					"name": "food-in-pile1",
					"setup": {
						"returnType": "unit",
						"agentClass": "O---",
						"body": {
							"type": "command-block",
							"statements": []
						}
					},
					"update": {
						"returnType": "unit",
						"agentClass": "O---",
						"body": {
							"type": "command-block",
							"statements": [
								{
									"type": "command-call",
									"name": "PLOTXY",
									"args": [
										{
											"type": "reporter-call",
											"name": "TICKS",
											"args": []
										},
										{
											"type": "reporter-call",
											"name": "SUM",
											"args": [
												{
													"type": "reporter-call",
													"name": "OF",
													"args": [
														{
															"type": "reporter-block",
															"reporterApp": {
																"type": "patch-var",
																"name": "FOOD"
															}
														},
														{
															"type": "reporter-call",
															"name": "WITH",
															"args": [
																{
																	"type": "reporter-call",
																	"name": "PATCHES",
																	"args": []
																},
																{
																	"type": "reporter-block",
																	"reporterApp": {
																		"type": "reporter-call",
																		"name": "=",
																		"args": [
																			{
																				"type": "patch-var",
																				"name": "PCOLOR"
																			},
																			{
																				"type": "number",
																				"value": 85
																			}
																		]
																	}
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						}
					}
				},
				{
					"name": "food-in-pile2",
					"setup": {
						"returnType": "unit",
						"agentClass": "O---",
						"body": {
							"type": "command-block",
							"statements": []
						}
					},
					"update": {
						"returnType": "unit",
						"agentClass": "O---",
						"body": {
							"type": "command-block",
							"statements": [
								{
									"type": "command-call",
									"name": "PLOTXY",
									"args": [
										{
											"type": "reporter-call",
											"name": "TICKS",
											"args": []
										},
										{
											"type": "reporter-call",
											"name": "SUM",
											"args": [
												{
													"type": "reporter-call",
													"name": "OF",
													"args": [
														{
															"type": "reporter-block",
															"reporterApp": {
																"type": "patch-var",
																"name": "FOOD"
															}
														},
														{
															"type": "reporter-call",
															"name": "WITH",
															"args": [
																{
																	"type": "reporter-call",
																	"name": "PATCHES",
																	"args": []
																},
																{
																	"type": "reporter-block",
																	"reporterApp": {
																		"type": "reporter-call",
																		"name": "=",
																		"args": [
																			{
																				"type": "patch-var",
																				"name": "PCOLOR"
																			},
																			{
																				"type": "number",
																				"value": 95
																			}
																		]
																	}
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						}
					}
				},
				{
					"name": "food-in-pile3",
					"setup": {
						"returnType": "unit",
						"agentClass": "O---",
						"body": {
							"type": "command-block",
							"statements": []
						}
					},
					"update": {
						"returnType": "unit",
						"agentClass": "O---",
						"body": {
							"type": "command-block",
							"statements": [
								{
									"type": "command-call",
									"name": "PLOTXY",
									"args": [
										{
											"type": "reporter-call",
											"name": "TICKS",
											"args": []
										},
										{
											"type": "reporter-call",
											"name": "SUM",
											"args": [
												{
													"type": "reporter-call",
													"name": "OF",
													"args": [
														{
															"type": "reporter-block",
															"reporterApp": {
																"type": "patch-var",
																"name": "FOOD"
															}
														},
														{
															"type": "reporter-call",
															"name": "WITH",
															"args": [
																{
																	"type": "reporter-call",
																	"name": "PATCHES",
																	"args": []
																},
																{
																	"type": "reporter-block",
																	"reporterApp": {
																		"type": "reporter-call",
																		"name": "=",
																		"args": [
																			{
																				"type": "patch-var",
																				"name": "PCOLOR"
																			},
																			{
																				"type": "number",
																				"value": 105
																			}
																		]
																	}
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						}
					}
				}
			]
		},
		{
			"type": "slider",
			"index": 2,
			"getMin": {
				"returnType": "wildcard",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-call",
							"name": "REPORT",
							"args": [
								{
									"type": "number",
									"value": 0
								}
							]
						}
					]
				}
			},
			"getMax": {
				"returnType": "wildcard",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-call",
							"name": "REPORT",
							"args": [
								{
									"type": "number",
									"value": 99
								}
							]
						}
					]
				}
			},
			"getStep": {
				"returnType": "wildcard",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-call",
							"name": "REPORT",
							"args": [
								{
									"type": "number",
									"value": 1
								}
							]
						}
					]
				}
			}
		},
		{
			"type": "slider",
			"index": 3,
			"getMin": {
				"returnType": "wildcard",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-call",
							"name": "REPORT",
							"args": [
								{
									"type": "number",
									"value": 0
								}
							]
						}
					]
				}
			},
			"getMax": {
				"returnType": "wildcard",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-call",
							"name": "REPORT",
							"args": [
								{
									"type": "number",
									"value": 200
								}
							]
						}
					]
				}
			},
			"getStep": {
				"returnType": "wildcard",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-call",
							"name": "REPORT",
							"args": [
								{
									"type": "number",
									"value": 1
								}
							]
						}
					]
				}
			}
		},
		{
			"type": "slider",
			"index": 4,
			"getMin": {
				"returnType": "wildcard",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-call",
							"name": "REPORT",
							"args": [
								{
									"type": "number",
									"value": 0
								}
							]
						}
					]
				}
			},
			"getMax": {
				"returnType": "wildcard",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-call",
							"name": "REPORT",
							"args": [
								{
									"type": "number",
									"value": 99
								}
							]
						}
					]
				}
			},
			"getStep": {
				"returnType": "wildcard",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-call",
							"name": "REPORT",
							"args": [
								{
									"type": "number",
									"value": 1
								}
							]
						}
					]
				}
			}
		},
		{
			"type": "button",
			"index": 5,
			"onClick": {
				"returnType": "unit",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-proc-call",
							"name": "SETUP",
							"args": []
						}
					]
				}
			}
		},
		{
			"type": "button",
			"index": 6,
			"onClick": {
				"returnType": "unit",
				"agentClass": "O---",
				"body": {
					"type": "command-block",
					"statements": [
						{
							"type": "command-proc-call",
							"name": "GO",
							"args": []
						}
					]
				}
			}
		}
	]
}
